(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,t,a){},226:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(35),c=a.n(r),i=a(84),l=a(85),o=a(90),m=a(86),h=a(91),g=a(231),p=a(228),d=a(83),E=a(223),u=a(227),k=a(230),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tickerMessages:[],devChartMin:-1,devChartMax:6e3,priceAt24hOpening:0},a.handleNewTickerMessage=function(e){a.state.tickerMessages.length&&a.setState({devChartMin:parseInt(a.state.tickerMessages[0].low_24h-10,10),devChartMax:parseInt(a.state.tickerMessages[0].high_24h+10,10),priceAt24hOpening:parseFloat(a.state.tickerMessages[0].open_24h)});var t=a.state.tickerMessages.concat([e]);t.length>100&&(t=t.splice(t.length-100,100)),a.setState(function(e){return{tickerMessages:t}},function(){return console.log(a.state.tickerMessages)})},a.trendUp=function(){return a.state.tickerMessages.length?a.state.tickerMessages[a.state.tickerMessages.length-1].price>=a.state.priceAt24hOpening:s.a.createElement("p",null,"Loading...")},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;this.websocket=(e="BTC-EUR",t=this.handleNewTickerMessage,(a=new WebSocket("wss://ws-feed.gdax.com")).onopen=function(){console.log("WebSocket opened");var t=JSON.stringify({type:"subscribe",channels:[{name:"ticker",product_ids:[e]}]});a.send(t)},a.onmessage=function(e){var a=JSON.parse(e.data);"ticker"===a.type?t(a):console.log("Message received",a)},a)}},{key:"componentWillUnmount",value:function(){this.websocket.close()}},{key:"render",value:function(){return s.a.createElement("div",{className:"master-wrapper"},s.a.createElement("header",{className:"header"},s.a.createElement("img",{className:"header__image",src:"./coin.png",alt:"bitcoin"}),s.a.createElement("h1",{className:"header__title"},"SEE YOUR ",s.a.createElement("span",{className:"header__title--highlight"},"B"),"C",s.a.createElement("br",null),"TRA",s.a.createElement("span",{className:"header__title--highlight"},"C"),"K YA $TACK",s.a.createElement("br",null),s.a.createElement("span",{className:"header__title--highlight"},"CHART")," WITH YOUR HEART")),s.a.createElement("section",{className:"graph-container"},s.a.createElement("h2",{className:"graph-container__header"},"DEVELOPMENT"),s.a.createElement("h2",{className:"graph-container__header"},"DEMAND"),s.a.createElement(g.a,{className:"graph",width:400,height:400,data:this.state.tickerMessages},s.a.createElement(p.a,null),s.a.createElement(d.a,null),s.a.createElement(E.a,{type:"number",domain:[this.state.devChartMin,this.state.devChartMax]}),s.a.createElement(u.a,{type:"monotone",dataKey:"price",stroke:"green",activeDot:{r:8}}),s.a.createElement(u.a,{type:"monotone",dataKey:"low_24h",stroke:"purple",activeDot:{r:8}}),s.a.createElement(u.a,{type:"monotone",dataKey:"high_24h",stroke:"pink",activeDot:{r:8}})),s.a.createElement(g.a,{className:"graph",width:400,height:400,data:this.state.tickerMessages},s.a.createElement(p.a,null),s.a.createElement(d.a,null),s.a.createElement(k.a,{strokeDasharray:"3 3"}),s.a.createElement(E.a,{type:"number",domain:["best_bid","best_ask"]}),s.a.createElement(u.a,{type:"basis",dataKey:"price",stroke:"green",activeDot:{r:8}}),s.a.createElement(u.a,{type:"monotone",dataKey:"best_ask",stroke:"red",activeDot:{r:8}}),s.a.createElement(u.a,{type:"monotone",dataKey:"best_bid",stroke:"blue",activeDot:{r:8}}))),s.a.createElement("section",{className:"info-section"},s.a.createElement("div",{className:"transactions-container"},s.a.createElement("h2",null,"TRANSACTIONS:"),this.state.tickerMessages.map(function(e){return s.a.createElement("div",{key:e.sequence},e.time,": ",s.a.createElement("strong",null,e.price," EUR"))})),s.a.createElement("div",{className:"trend-container"},s.a.createElement("h2",null,"24H BITCOIN TREND:"),this.state.tickerMessages.length>1&&s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("strong",null,"Opening:")," ",this.state.priceAt24hOpening," EUR"),s.a.createElement("p",null,s.a.createElement("strong",null,"Now: "),this.state.tickerMessages[this.state.tickerMessages.length-1].price," EUR"),this.trendUp()?s.a.createElement("img",{className:"trend-container__image",alt:"trend up",src:"./happy2.png"}):s.a.createElement("img",{className:"trend-container__image",alt:"trend down",src:"./sad2.png"})))))}}]),t}(s.a.Component);a(224);c.a.render(s.a.createElement(M,null),document.getElementById("root"))},92:function(e,t,a){e.exports=a(226)}},[[92,2,1]]]);
//# sourceMappingURL=main.b5bd29bf.chunk.js.map